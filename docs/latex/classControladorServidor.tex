\hypertarget{classControladorServidor}{\section{\-Referencia de la \-Clase \-Controlador\-Servidor}
\label{classControladorServidor}\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}}
}


{\ttfamily \#include $<$\-Controlador\-Servidor.\-h$>$}

\-Diagrama de herencias de \-Controlador\-Servidor\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classControladorServidor}
\end{center}
\end{figure}
\subsection*{\-Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRespuesta}{\-Respuesta} \hyperlink{classControladorServidor_a45d1f810987e11a222986ecf588ac497}{resolver\-Entrada} (\hyperlink{classConsulta}{\-Consulta} \&entrada)
\item 
\hyperlink{classRespuesta}{\-Respuesta} \hyperlink{classControladorServidor_a1ca5d73913116531b23e8c998f51f18b}{resolver} (\hyperlink{classConsulta}{\-Consulta} \&consulta)
\item 
\hyperlink{classControladorServidor_a62668a91f2eeb6fe13d7a4079e023ac8}{\-Controlador\-Servidor} (\hyperlink{classResolvedorConsultas}{\-Resolvedor\-Consultas} \&cons, \hyperlink{classResolvedorEntradas}{\-Resolvedor\-Entradas} \&rent, \-Puerto pclientes, \-Puerto pagentes)
\item 
bool \hyperlink{classControladorServidor_a492e61d31b759540ec76a1ca2c7bb875}{activo} ()
\item 
\hyperlink{classControladorServidor_abe83c8c099a41bae0ff648e0b7281741}{$\sim$\-Controlador\-Servidor} ()
\item 
void \hyperlink{classControladorServidor_aaa97dc23fdf70cf91004bdb654b72585}{agregar\-Cliente} (\hyperlink{classClienteRemoto}{\-Cliente\-Remoto} $\ast$rem)
\item 
void \hyperlink{classControladorServidor_ad323cf3309ee0ddc8737c16a48432c28}{agregar\-Agente} (\hyperlink{classAgenteRemoto}{\-Agente\-Remoto} $\ast$agt)
\item 
void \hyperlink{classControladorServidor_aa50662d57613d4e161790f6e9dc1c299}{comenzar} ()
\item 
void \hyperlink{classControladorServidor_aa8f33c7beb356148089072234a2619b4}{detener} ()
\end{DoxyCompactItemize}


\subsection{\-Descripción detallada}
\-Esta clase es fundamental. \-Su rol es controlar el flujo correcto de resolución de consultas y actualizaciones. \-Se encarga de permitir que el servidor maneje múltiples consultas, como también de frenarlas cuando se requiera de procesar actualizaciones. \-Contiene un \-Pool de \char`\"{}workers\char`\"{}, cada uno con una dedicación a alguna de las tareas ya sean de actualización como de consultas. \-Implementa interfaces como \hyperlink{classResolvedorConsultas}{\-Resolvedor\-Consultas}, \hyperlink{classResolvedorEntradas}{\-Resolvedor\-Entradas}, \hyperlink{classContenedorClientes}{\-Contenedor\-Clientes} y \hyperlink{classContenedorAgentes}{\-Contenedor\-Agentes}, que hace que sus \char`\"{}workers\char`\"{} sólo vean lo que necesiten ver del controlador.

\-Es la clase encargada también de manejar los hilos que se encargan de recibir clientes y agentes. \-En definitiva, es el encargado de la coordinacion de la concurrencia del servidor. 

\subsection{\-Documentación del constructor y destructor}
\hypertarget{classControladorServidor_a62668a91f2eeb6fe13d7a4079e023ac8}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!\-Controlador\-Servidor@{\-Controlador\-Servidor}}
\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{\-Controlador\-Servidor}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Controlador\-Servidor\-::\-Controlador\-Servidor} (
\begin{DoxyParamCaption}
\item[{{\bf \-Resolvedor\-Consultas} \&}]{cons, }
\item[{{\bf \-Resolvedor\-Entradas} \&}]{rent, }
\item[{\-Puerto}]{pclientes, }
\item[{\-Puerto}]{pagentes}
\end{DoxyParamCaption}
)}}\label{classControladorServidor_a62668a91f2eeb6fe13d7a4079e023ac8}
\-Constructor de controlador\-Servidor. 
\begin{DoxyParams}{\-Parámetros}
{\em cons} & \-Objeto que resuelva las consultas. \\
\hline
{\em rent} & \-Objeto que resuelva las entradas. \\
\hline
{\em pclientes} & \-Puerto por el cual se escucharán conexiones entrantes de los clientes. \\
\hline
{\em pagentes} & \-Puerto por el cual se escucharán conexiones entrantes de los agentes. \\
\hline
\end{DoxyParams}
\hypertarget{classControladorServidor_abe83c8c099a41bae0ff648e0b7281741}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!$\sim$\-Controlador\-Servidor@{$\sim$\-Controlador\-Servidor}}
\index{$\sim$\-Controlador\-Servidor@{$\sim$\-Controlador\-Servidor}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{$\sim$\-Controlador\-Servidor}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Controlador\-Servidor\-::$\sim$\-Controlador\-Servidor} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classControladorServidor_abe83c8c099a41bae0ff648e0b7281741}
\-El destructor del controlador. \-Si esta en ejecución, libera toda la memoria que corresponda, cerrando conexiones y deteniendo hilos. 

\subsection{\-Documentación de las funciones miembro}
\hypertarget{classControladorServidor_a492e61d31b759540ec76a1ca2c7bb875}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!activo@{activo}}
\index{activo@{activo}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{activo}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-Controlador\-Servidor\-::activo} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classControladorServidor_a492e61d31b759540ec76a1ca2c7bb875}
\-Método utilizado para saber si las entradas siguen activas. \hypertarget{classControladorServidor_ad323cf3309ee0ddc8737c16a48432c28}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!agregar\-Agente@{agregar\-Agente}}
\index{agregar\-Agente@{agregar\-Agente}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{agregar\-Agente}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Controlador\-Servidor\-::agregar\-Agente} (
\begin{DoxyParamCaption}
\item[{{\bf \-Agente\-Remoto} $\ast$}]{agt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classControladorServidor_ad323cf3309ee0ddc8737c16a48432c28}
\-El método que permite agregar un agente remoto a su lista. \-Es el heredado de la interfaz \hyperlink{classContenedorAgentes}{\-Contenedor\-Agentes}. 

\-Implementa \hyperlink{classContenedorAgentes_a5e701061672c9cb813fc468a79979475}{\-Contenedor\-Agentes}.

\hypertarget{classControladorServidor_aaa97dc23fdf70cf91004bdb654b72585}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!agregar\-Cliente@{agregar\-Cliente}}
\index{agregar\-Cliente@{agregar\-Cliente}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{agregar\-Cliente}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Controlador\-Servidor\-::agregar\-Cliente} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cliente\-Remoto} $\ast$}]{rem}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classControladorServidor_aaa97dc23fdf70cf91004bdb654b72585}
\-El método que permite agregar un cliente remoto a su lista. \-Es el heredado de la interfaz \hyperlink{classContenedorClientes}{\-Contenedor\-Clientes}. 

\-Implementa \hyperlink{classContenedorClientes}{\-Contenedor\-Clientes}.

\hypertarget{classControladorServidor_aa50662d57613d4e161790f6e9dc1c299}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!comenzar@{comenzar}}
\index{comenzar@{comenzar}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{comenzar}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Controlador\-Servidor\-::comenzar} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classControladorServidor_aa50662d57613d4e161790f6e9dc1c299}
\-Se encarga de inicar los hilos correspondientes a los que escuchan conexiones y a los pools de workers. \hypertarget{classControladorServidor_aa8f33c7beb356148089072234a2619b4}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!detener@{detener}}
\index{detener@{detener}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{detener}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Controlador\-Servidor\-::detener} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classControladorServidor_aa8f33c7beb356148089072234a2619b4}
\-Se encarga de detener todos los hilos, tanto los workers como los que escuchan conexiones ingresantes, cierra las colas de consultas y realiza tareas varias previas a la destruccion del mismo. \hypertarget{classControladorServidor_a1ca5d73913116531b23e8c998f51f18b}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!resolver@{resolver}}
\index{resolver@{resolver}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{resolver}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Respuesta} {\bf \-Controlador\-Servidor\-::resolver} (
\begin{DoxyParamCaption}
\item[{{\bf \-Consulta} \&}]{consulta}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classControladorServidor_a1ca5d73913116531b23e8c998f51f18b}
\-Este método es el encargado de resolver las consultas. \-Si hay entradas resolviéndose en el momento de la llamada, este método quedará bloqueado hasta que pueda realizar la consulta. \-Sin embargo no se bloqueara si otras consultas están en proceso, permitiendo la resolución de consultas de forma concurrente. 

\-Implementa \hyperlink{classResolvedorConsultas_a077d3d962848e14a84790d5a929fea17}{\-Resolvedor\-Consultas}.

\hypertarget{classControladorServidor_a45d1f810987e11a222986ecf588ac497}{\index{\-Controlador\-Servidor@{\-Controlador\-Servidor}!resolver\-Entrada@{resolver\-Entrada}}
\index{resolver\-Entrada@{resolver\-Entrada}!ControladorServidor@{\-Controlador\-Servidor}}
\subsubsection[{resolver\-Entrada}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Respuesta} {\bf \-Controlador\-Servidor\-::resolver\-Entrada} (
\begin{DoxyParamCaption}
\item[{{\bf \-Consulta} \&}]{entrada}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classControladorServidor_a45d1f810987e11a222986ecf588ac497}
\-Este método es el encargado de resolver las actualizaciones. \-Si hay consultas resolviéndose en el momento de la llamada, quedará bloqueado hasta que pueda realizar la actualización. 

\-Implementa \hyperlink{classResolvedorEntradas_a197be7d4db0a07250a51c2c390dd2372}{\-Resolvedor\-Entradas}.



\-La documentación para esta clase fue generada a partir de los siguientes ficheros\-:\begin{DoxyCompactItemize}
\item 
servidor/servidor/\-Controlador\-Servidor.\-h\item 
servidor/servidor/\-Controlador\-Servidor.\-cpp\end{DoxyCompactItemize}
